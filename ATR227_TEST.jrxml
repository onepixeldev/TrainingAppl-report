<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.10.0.final using JasperReports Library version 6.10.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ATR227_TEST" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6764fb17-9d20-462c-a761-e0c792b6ba17">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MyHRIS.xml"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<subDataset name="MAIN" uuid="04a0f698-beea-459b-925f-c88a3dcb0c22">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MyHRIS"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="DEPARTMENT" class="java.lang.String"/>
		<parameter name="TRAINING_YEAR" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT SM_DEPT_CODE
FROM STAFF_MAIN,SERVICE_SCHEME,STAFF_STATUS
WHERE SM_JOB_CODE = SS_SERVICE_CODE 
AND SM_STAFF_STATUS = SS_STATUS_CODE
AND SM_STAFF_STATUS = '01'
AND SM_STAFF_TYPE = 'STAFF'
AND ($P{DEPARTMENT} IS NULL OR ($P{DEPARTMENT} IS NOT NULL AND SM_DEPT_CODE = $P{DEPARTMENT}))
GROUP BY SM_DEPT_CODE
ORDER BY SM_DEPT_CODE]]>
		</queryString>
		<field name="SM_DEPT_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SM_DEPT_CODE"/>
		</field>
	</subDataset>
	<subDataset name="MAIN2" uuid="597bacef-f3c6-4a79-8b3c-042e7bbfe0b9">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MyHRIS"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="DEPARTMENT" class="java.lang.String"/>
		<parameter name="TRAINING_YEAR" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT SM_DEPT_CODE,
SM_STAFF_NAME,
SM_STAFF_ID,
SS_SERVICE_DESC,
CASE WHEN 
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '01'
) > 0 THEN '/'
ELSE 'X'
END AS JAN,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '02'
) > 0 THEN '/'
ELSE 'X'
END AS FEB,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '03'
) > 0 THEN '/'
ELSE 'X'
END AS MAC,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '04'
) > 0 THEN '/'
ELSE 'X'
END AS APRIL,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '05'
) > 0 THEN '/'
ELSE 'X'
END AS MEI,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '06'
) > 0 THEN '/'
ELSE 'X'
END AS JUN,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '07'
) > 0 THEN '/'
ELSE 'X'
END AS JULAI,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '08'
) > 0 THEN '/'
ELSE 'X'
END AS OGOS,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '09'
) > 0 THEN '/'
ELSE 'X'
END AS SEPT,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '10'
) > 0 THEN '/'
ELSE 'X'
END AS OKT,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '11'
) > 0 THEN '/'
ELSE 'X'
END AS NOV,
CASE WHEN
(
    SELECT COUNT(STH_STAFF_ID) AS STH_TOTAL
    FROM TRAINING_HEAD, STAFF_TRAINING_HEAD, STAFF_MAIN
    WHERE TH_REF_ID = STH_TRAINING_REFID
    AND SM_STAFF_ID = STH_STAFF_ID 
    AND TH_TYPE = 'S'
    AND TH_STATUS = 'APPROVE'
    AND STH_STATUS = 'APPROVE'   
    AND (TO_CHAR(TH_DATE_FROM,'yyyy') < '2016'
      OR (TO_CHAR(TH_DATE_FROM,'yyyy') >= '2016'
        AND EXISTS (
          SELECT (1) FROM STAFF_TRAINING_DETL
          WHERE STD_TRAINING_REFID = STH_TRAINING_REFID
          AND STD_STAFF_ID = STH_STAFF_ID
          AND STD_ATTEND IN ('Y','A')
        )
      )
    )
    AND SM_STAFF_ID = SM.SM_STAFF_ID
    AND TO_CHAR(TH_DATE_FROM,'yyyy') = $P{TRAINING_YEAR}
    AND TO_CHAR(TH_DATE_FROM,'mm')= '12'
) > 0 THEN '/'
ELSE 'X'
END AS DIS
FROM STAFF_MAIN SM,SERVICE_SCHEME,STAFF_STATUS
WHERE SM_JOB_CODE = SS_SERVICE_CODE 
AND SM_STAFF_STATUS = SS_STATUS_CODE
AND SM_STAFF_STATUS = '01'
AND SM_STAFF_TYPE = 'STAFF'
AND (SM_DEPT_CODE IS NULL OR ($P{DEPARTMENT} IS NOT NULL AND SM_DEPT_CODE = $P{DEPARTMENT}))
ORDER BY SM_DEPT_CODE,SM_STAFF_NAME]]>
		</queryString>
		<field name="SM_DEPT_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SM_DEPT_CODE"/>
		</field>
		<field name="SM_STAFF_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SM_STAFF_NAME"/>
		</field>
		<field name="SM_STAFF_ID" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SM_STAFF_ID"/>
		</field>
		<field name="SS_SERVICE_DESC" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SS_SERVICE_DESC"/>
		</field>
		<field name="JAN" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="JAN"/>
		</field>
		<field name="FEB" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="FEB"/>
		</field>
		<field name="MAC" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAC"/>
		</field>
		<field name="APRIL" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="APRIL"/>
		</field>
		<field name="MEI" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MEI"/>
		</field>
		<field name="JUN" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="JUN"/>
		</field>
		<field name="JULAI" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="JULAI"/>
		</field>
		<field name="OGOS" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="OGOS"/>
		</field>
		<field name="SEPT" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SEPT"/>
		</field>
		<field name="OKT" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="OKT"/>
		</field>
		<field name="NOV" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="NOV"/>
		</field>
		<field name="DIS" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DIS"/>
		</field>
	</subDataset>
	<parameter name="DEPARTMENT" class="java.lang.String"/>
	<parameter name="TRAINING_YEAR" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT *
FROM DUAL]]>
	</queryString>
	<field name="DUMMY" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="DUMMY"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="160" splitType="Stretch"/>
	</detail>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
</jasperReport>
